module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(97877).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(97877).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(97877).vendored.contexts.ServerInsertedHtml},99163,a=>{"use strict";a.s(["AuthWrapper",()=>f]);var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(82945);function f({children:a}){let[f,g]=(0,c.useState)(!0),{user:h,setUser:i}=(0,e.useAuthStore)(),j=(0,d.useRouter)();return((0,c.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/auth/session");if(a.ok){let b=await a.json();i(b.user)}else i(null)}catch(a){console.error("Auth check failed:",a),i(null)}finally{g(!1)}})()},[i]),f)?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"})}):h?.isAuthenticated?(0,b.jsx)(b.Fragment,{children:a}):(j.push("/login"),null)}},49846,a=>{"use strict";a.s(["default",()=>k],49846);var b=a.i(87924),c=a.i(99163),d=a.i(72131),e=a.i(50944),f=a.i(99570),g=a.i(91119),h=a.i(82945),i=a.i(68114);function j(){let{user:a,logout:c}=(0,h.useAuthStore)(),{openTrades:j,closedTrades:k,setTrades:l}=(0,h.useTradesStore)(),[m,n]=(0,d.useState)(!0),o=(0,e.useRouter)();(0,d.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/trades/log");if(a.ok){let b=await a.json();l(b.data)}}catch(a){console.error("Failed to fetch trades:",a)}finally{n(!1)}})()},[l]);let p=async()=>{try{await fetch("/api/auth/logout",{method:"POST"}),c(),o.push("/login")}catch(a){console.error("Logout failed:",a)}},q=(()=>{let a=k.length,b=k.filter(a=>(a.pnl||0)>0).length,c=k.reduce((a,b)=>a+(b.pnl||0),0);return{totalTrades:a,winningTrades:b,totalPnL:c,totalFees:k.reduce((a,b)=>a+(b.fees||0),0),winRate:a>0?b/a:0}})();return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,b.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"TFZ Trading Assistant"}),(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:["Welcome back, ",a?.username]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>o.push("/scanner"),children:"Scanner"}),(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>o.push("/recommend"),children:"Recommender"}),(0,b.jsx)(f.Button,{variant:"outline",onClick:p,children:"Logout"})]})]})})}),(0,b.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{className:"pb-2",children:(0,b.jsx)(g.CardTitle,{className:"text-sm font-medium text-gray-600",children:"Open Trades"})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsx)("div",{className:"text-2xl font-bold",children:j.length})})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{className:"pb-2",children:(0,b.jsx)(g.CardTitle,{className:"text-sm font-medium text-gray-600",children:"Total P&L"})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsx)("div",{className:`text-2xl font-bold ${q.totalPnL>=0?"text-green-600":"text-red-600"}`,children:(0,i.formatCurrency)(q.totalPnL)})})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{className:"pb-2",children:(0,b.jsx)(g.CardTitle,{className:"text-sm font-medium text-gray-600",children:"Win Rate"})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsx)("div",{className:"text-2xl font-bold",children:(0,i.formatPercent)(q.winRate)})})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{className:"pb-2",children:(0,b.jsx)(g.CardTitle,{className:"text-sm font-medium text-gray-600",children:"Total Fees"})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsx)("div",{className:"text-2xl font-bold text-red-600",children:(0,i.formatCurrency)(q.totalFees)})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{children:"Open Trades"}),(0,b.jsx)(g.CardDescription,{children:"Currently active positions"})]}),(0,b.jsx)(g.CardContent,{children:m?(0,b.jsx)("div",{className:"text-center py-4",children:"Loading..."}):0===j.length?(0,b.jsx)("div",{className:"text-center py-4 text-gray-500",children:"No open trades"}):(0,b.jsx)("div",{className:"space-y-3",children:j.slice(0,5).map((a,c)=>(0,b.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:a.ticker}),(0,b.jsxs)("div",{className:"text-sm text-gray-500",children:[a.side," spread • ",a.dte," DTE"]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("div",{className:"font-medium",children:(0,i.formatCurrency)(a.credit)}),(0,b.jsxs)("div",{className:"text-sm text-gray-500",children:[a.shortStrike,"/",a.longStrike]})]})]},c))})})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{children:"Recent Closed Trades"}),(0,b.jsx)(g.CardDescription,{children:"Last 5 completed positions"})]}),(0,b.jsx)(g.CardContent,{children:m?(0,b.jsx)("div",{className:"text-center py-4",children:"Loading..."}):0===k.length?(0,b.jsx)("div",{className:"text-center py-4 text-gray-500",children:"No closed trades"}):(0,b.jsx)("div",{className:"space-y-3",children:k.slice(0,5).map((a,c)=>(0,b.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:a.ticker}),(0,b.jsxs)("div",{className:"text-sm text-gray-500",children:[a.side," spread • Closed ",new Date(a.closedAt||"").toLocaleDateString()]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("div",{className:`font-medium ${(a.pnl||0)>=0?"text-green-600":"text-red-600"}`,children:(0,i.formatCurrency)(a.pnl||0)}),(0,b.jsx)("div",{className:"text-sm text-gray-500",children:(0,i.formatCurrency)(a.credit)})]})]},c))})})]})]})]})]})}function k(){return(0,b.jsx)(c.AuthWrapper,{children:(0,b.jsx)(j,{})})}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__c44c45eb._.js.map