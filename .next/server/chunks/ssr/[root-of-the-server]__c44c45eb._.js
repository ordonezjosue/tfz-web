module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(97877).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(97877).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(97877).vendored.contexts.ServerInsertedHtml},99163,a=>{"use strict";a.s(["AuthWrapper",()=>f]);var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(82945);function f({children:a}){let[f,g]=(0,c.useState)(!0),{user:h,setUser:i}=(0,e.useAuthStore)(),j=(0,d.useRouter)();return((0,c.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/auth/session");if(a.ok){let b=await a.json();i(b.user)}else i(null)}catch(a){console.error("Auth check failed:",a),i(null)}finally{g(!1)}})()},[i]),f)?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"})}):h?.isAuthenticated?(0,b.jsx)(b.Fragment,{children:a}):(j.push("/login"),null)}},49846,a=>{"use strict";a.s(["default",()=>k],49846);var b=a.i(87924),c=a.i(99163),d=a.i(72131),e=a.i(50944),f=a.i(99570),g=a.i(91119),h=a.i(82945),i=a.i(68114);function j(){let{user:a,logout:c}=(0,h.useAuthStore)(),{openTrades:j,closedTrades:k,setTrades:l}=(0,h.useTradesStore)(),[m,n]=(0,d.useState)(!0),o=(0,e.useRouter)();(0,d.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/trades/log");if(a.ok){let b=await a.json();l(b.data)}}catch(a){console.error("Failed to fetch trades:",a)}finally{n(!1)}})()},[l]);let p=async()=>{try{await fetch("/api/auth/logout",{method:"POST"}),c(),o.push("/login")}catch(a){console.error("Logout failed:",a)}},q=(()=>{let a=k.length,b=k.filter(a=>(a.pnl||0)>0).length,c=k.reduce((a,b)=>a+(b.pnl||0),0);return{totalTrades:a,winningTrades:b,totalPnL:c,totalFees:k.reduce((a,b)=>a+(b.fees||0),0),winRate:a>0?b/a:0}})();return(0,b.jsxs)("div",{className:"min-h-screen gradient-bg",children:[(0,b.jsx)("header",{className:"glass-card border-b border-blue-500/20",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,b.jsxs)("div",{className:"flex justify-between items-center h-20",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-blue-600 bg-clip-text text-transparent",children:"TFZ Trading Assistant"}),(0,b.jsxs)("p",{className:"text-neutral-text mt-1",children:["Welcome back, ",a?.username," • Your options trading command center"]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)(f.Button,{onClick:()=>o.push("/scanner"),className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold px-6 py-2 rounded-lg primary-glow transition-all duration-200",children:"🔍 Scanner"}),(0,b.jsx)(f.Button,{onClick:()=>o.push("/recommend"),className:"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white font-semibold px-6 py-2 rounded-lg success-glow transition-all duration-200",children:"🎯 Recommender"}),(0,b.jsx)(f.Button,{variant:"outline",onClick:p,className:"border-red-500/30 text-red-400 hover:bg-red-500/10 hover:border-red-400 danger-glow",children:"Logout"})]})]})})}),(0,b.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,b.jsxs)(g.Card,{className:"trading-card",children:[(0,b.jsx)(g.CardHeader,{className:"pb-3",children:(0,b.jsx)(g.CardTitle,{className:"text-sm font-medium text-blue-300 flex items-center",children:"📊 Open Trades"})}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsx)("div",{className:"text-3xl font-bold text-white",children:j.length}),(0,b.jsx)("div",{className:"text-xs text-neutral-text mt-1",children:"Active positions"})]})]}),(0,b.jsxs)(g.Card,{className:"trading-card",children:[(0,b.jsx)(g.CardHeader,{className:"pb-3",children:(0,b.jsx)(g.CardTitle,{className:"text-sm font-medium text-green-300 flex items-center",children:"💰 Total P&L"})}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsx)("div",{className:`text-3xl font-bold ${q.totalPnL>=0?"profit-text":"loss-text"}`,children:(0,i.formatCurrency)(q.totalPnL)}),(0,b.jsx)("div",{className:"text-xs text-neutral-text mt-1",children:"All time"})]})]}),(0,b.jsxs)(g.Card,{className:"trading-card",children:[(0,b.jsx)(g.CardHeader,{className:"pb-3",children:(0,b.jsx)(g.CardTitle,{className:"text-sm font-medium text-yellow-300 flex items-center",children:"🎯 Win Rate"})}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsx)("div",{className:"text-3xl font-bold text-yellow-400",children:(0,i.formatPercent)(q.winRate)}),(0,b.jsxs)("div",{className:"text-xs text-neutral-text mt-1",children:[q.winningTrades,"/",q.totalTrades," trades"]})]})]}),(0,b.jsxs)(g.Card,{className:"trading-card",children:[(0,b.jsx)(g.CardHeader,{className:"pb-3",children:(0,b.jsx)(g.CardTitle,{className:"text-sm font-medium text-red-300 flex items-center",children:"💸 Total Fees"})}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsx)("div",{className:"text-3xl font-bold loss-text",children:(0,i.formatCurrency)(q.totalFees)}),(0,b.jsx)("div",{className:"text-xs text-neutral-text mt-1",children:"Commissions paid"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,b.jsxs)(g.Card,{className:"trading-card",children:[(0,b.jsxs)(g.CardHeader,{className:"border-b border-blue-500/20",children:[(0,b.jsx)(g.CardTitle,{className:"text-xl font-semibold text-blue-400",children:"Open Trades"}),(0,b.jsx)(g.CardDescription,{className:"text-neutral-text",children:"Currently active positions"})]}),(0,b.jsx)(g.CardContent,{className:"pt-6",children:m?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-400 mx-auto"}),(0,b.jsx)("p",{className:"mt-2 text-neutral-text",children:"Loading trades..."})]}):0===j.length?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)("div",{className:"text-4xl mb-3",children:"📈"}),(0,b.jsx)("p",{className:"text-neutral-text",children:"No open trades"}),(0,b.jsx)("p",{className:"text-sm text-neutral-text mt-1",children:"Start by scanning for opportunities"})]}):(0,b.jsx)("div",{className:"space-y-4",children:j.slice(0,5).map((a,c)=>(0,b.jsx)("div",{className:"glass-card p-4 rounded-lg border border-blue-500/20 hover:border-blue-400/40 transition-all duration-200",children:(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"font-bold text-lg text-white",children:a.ticker}),(0,b.jsxs)("div",{className:"text-sm text-neutral-text",children:[a.side," spread • ",a.dte," DTE"]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("div",{className:"font-semibold text-green-400",children:(0,i.formatCurrency)(a.credit)}),(0,b.jsxs)("div",{className:"text-sm text-neutral-text",children:[a.shortStrike,"/",a.longStrike]})]})]})},c))})})]}),(0,b.jsxs)(g.Card,{className:"trading-card",children:[(0,b.jsxs)(g.CardHeader,{className:"border-b border-green-500/20",children:[(0,b.jsx)(g.CardTitle,{className:"text-xl font-semibold text-green-400",children:"Recent Closed Trades"}),(0,b.jsx)(g.CardDescription,{className:"text-neutral-text",children:"Last 5 completed positions"})]}),(0,b.jsx)(g.CardContent,{className:"pt-6",children:m?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-400 mx-auto"}),(0,b.jsx)("p",{className:"mt-2 text-neutral-text",children:"Loading trades..."})]}):0===k.length?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)("div",{className:"text-4xl mb-3",children:"📊"}),(0,b.jsx)("p",{className:"text-neutral-text",children:"No closed trades"}),(0,b.jsx)("p",{className:"text-sm text-neutral-text mt-1",children:"Your trading history will appear here"})]}):(0,b.jsx)("div",{className:"space-y-4",children:k.slice(0,5).map((a,c)=>(0,b.jsx)("div",{className:"glass-card p-4 rounded-lg border border-green-500/20 hover:border-green-400/40 transition-all duration-200",children:(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"font-bold text-lg text-white",children:a.ticker}),(0,b.jsxs)("div",{className:"text-sm text-neutral-text",children:[a.side," spread • Closed ",new Date(a.closedAt||"").toLocaleDateString()]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("div",{className:`font-semibold ${(a.pnl||0)>=0?"profit-text":"loss-text"}`,children:(0,i.formatCurrency)(a.pnl||0)}),(0,b.jsx)("div",{className:"text-sm text-neutral-text",children:(0,i.formatCurrency)(a.credit)})]})]})},c))})})]})]})]})]})}function k(){return(0,b.jsx)(c.AuthWrapper,{children:(0,b.jsx)(j,{})})}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__c44c45eb._.js.map