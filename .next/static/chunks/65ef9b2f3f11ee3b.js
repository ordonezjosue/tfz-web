(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,66575,e=>{"use strict";e.s(["AuthWrapper",()=>a]);var t=e.i(43476),r=e.i(71645),s=e.i(18566),l=e.i(27225);function a(e){let{children:a}=e,[i,n]=(0,r.useState)(!0),{user:d,setUser:c}=(0,l.useAuthStore)(),o=(0,s.useRouter)();return((0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/auth/session");if(e.ok){let t=await e.json();c(t.user)}else c(null)}catch(e){console.error("Auth check failed:",e),c(null)}finally{n(!1)}})()},[c]),i)?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"})}):(null==d?void 0:d.isAuthenticated)?(0,t.jsx)(t.Fragment,{children:a}):(o.push("/login"),null)}},93479,10204,e=>{"use strict";e.s(["Input",()=>l],93479);var t=e.i(43476),r=e.i(71645),s=e.i(75157);let l=r.forwardRef((e,r)=>{let{className:l,type:a,...i}=e;return(0,t.jsx)("input",{type:a,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",l),ref:r,...i})});l.displayName="Input",e.s(["Label",()=>c],10204),e.i(74080);var a=e.i(91918),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let l=(0,a.createSlot)("Primitive.".concat(s)),i=r.forwardRef((e,r)=>{let{asChild:a,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(a?l:s,{...i,ref:r})});return i.displayName="Primitive.".concat(s),{...e,[s]:i}},{}),n=r.forwardRef((e,r)=>(0,t.jsx)(i.label,{...e,ref:r,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null==(r=e.onMouseDown)||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";let d=(0,e.i(25913).cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,r)=>{let{className:l,...a}=e;return(0,t.jsx)(n,{ref:r,className:(0,s.cn)(d(),l),...a})});c.displayName=n.displayName},59434,e=>{"use strict";e.s(["default",()=>m],59434);var t=e.i(43476),r=e.i(66575),s=e.i(71645),l=e.i(18566),a=e.i(19455),i=e.i(93479),n=e.i(10204),d=e.i(15288),c=e.i(27225),o=e.i(75157);function u(){let e=(0,l.useRouter)(),{filters:r,setFilters:u,results:m,setResults:x,loading:b,setLoading:h,error:p,setError:f}=(0,c.useScannerStore)(),[v,g]=(0,s.useState)(""),[,j]=(0,s.useState)(null),N=async()=>{if(!v.trim())return;let e=v.split(",").map(e=>e.trim().toUpperCase()).filter(Boolean);await w(e)},y=async e=>{var t;let r=null==(t=e.target.files)?void 0:t[0];if(r){j(r);try{let e=(await r.text()).split("\n").filter(e=>e.trim()),t=e[0].split(",").map(e=>e.trim().toLowerCase()).findIndex(e=>"ticker"===e||"symbol"===e);if(-1===t)return void f('CSV must have a "ticker" or "symbol" column');let s=e.slice(1).map(e=>{var r;return null==(r=e.split(",")[t])?void 0:r.trim().toUpperCase()}).filter(Boolean);await w(s)}catch(e){f("Failed to parse CSV file")}}},w=async e=>{h(!0),f("");try{let t=await fetch("/api/quotes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to fetch market data");let s=(await t.json()).data.filter(e=>e.price>0&&(void 0===e.ivr||e.ivr>=r.minIvr));x(s)}catch(e){f("Failed to scan tickers")}finally{h(!1)}},C=(e,t)=>{u({...r,[e]:t})};return(0,t.jsxs)("div",{className:"min-h-screen gradient-bg",children:[(0,t.jsx)("header",{className:"glass-card border-b border-blue-500/20",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center h-20",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 to-blue-600 bg-clip-text text-transparent",children:"Options Scanner"}),(0,t.jsx)("p",{className:"text-neutral-text mt-1",children:"Find high-probability options trades with advanced filtering"})]}),(0,t.jsx)(a.Button,{variant:"outline",onClick:()=>e.push("/dashboard"),className:"border-blue-500/30 text-blue-400 hover:bg-blue-500/10 hover:border-blue-400 primary-glow",children:"â† Back to Dashboard"})]})})}),(0,t.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,t.jsxs)(d.Card,{className:"trading-card",children:[(0,t.jsxs)(d.CardHeader,{className:"border-b border-blue-500/20",children:[(0,t.jsx)(d.CardTitle,{className:"text-xl font-semibold text-blue-400",children:"Scanner Filters"}),(0,t.jsx)(d.CardDescription,{className:"text-neutral-text",children:"Configure your screening criteria"})]}),(0,t.jsxs)(d.CardContent,{className:"space-y-6 pt-6",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(n.Label,{htmlFor:"minIvr",className:"text-sm font-medium text-blue-300",children:"Min IVR (%)"}),(0,t.jsx)(i.Input,{id:"minIvr",type:"number",value:r.minIvr,onChange:e=>C("minIvr",Number(e.target.value)),className:"bg-slate-800/50 border-slate-600 text-white focus:border-blue-400 focus:ring-blue-400/20"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(n.Label,{htmlFor:"preferredIvr",className:"text-sm font-medium text-blue-300",children:"Preferred IVR (%)"}),(0,t.jsx)(i.Input,{id:"preferredIvr",type:"number",value:r.preferredIvr,onChange:e=>C("preferredIvr",Number(e.target.value)),className:"bg-slate-800/50 border-slate-600 text-white focus:border-blue-400 focus:ring-blue-400/20"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(n.Label,{htmlFor:"targetDelta",className:"text-sm font-medium text-blue-300",children:"Target Delta"}),(0,t.jsx)(i.Input,{id:"targetDelta",type:"number",step:"0.01",value:r.targetDelta,onChange:e=>C("targetDelta",Number(e.target.value)),className:"bg-slate-800/50 border-slate-600 text-white focus:border-blue-400 focus:ring-blue-400/20"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(n.Label,{htmlFor:"spreadWidth",className:"text-sm font-medium text-blue-300",children:"Spread Width"}),(0,t.jsxs)("select",{id:"spreadWidth",className:"w-full p-3 bg-slate-800/50 border border-slate-600 rounded-lg text-white focus:border-blue-400 focus:ring-blue-400/20",value:r.spreadWidth,onChange:e=>C("spreadWidth",e.target.value),children:[(0,t.jsx)("option",{value:"2.5",children:"$2.50"}),(0,t.jsx)("option",{value:"5",children:"$5.00"})]})]})]})]}),(0,t.jsxs)(d.Card,{className:"trading-card",children:[(0,t.jsxs)(d.CardHeader,{className:"border-b border-blue-500/20",children:[(0,t.jsx)(d.CardTitle,{className:"text-xl font-semibold text-blue-400",children:"Input Tickers"}),(0,t.jsx)(d.CardDescription,{className:"text-neutral-text",children:"Enter tickers to scan"})]}),(0,t.jsxs)(d.CardContent,{className:"space-y-6 pt-6",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(n.Label,{htmlFor:"tickers",className:"text-sm font-medium text-blue-300",children:"Comma-separated tickers"}),(0,t.jsx)(i.Input,{id:"tickers",placeholder:"AAPL, MSFT, GOOGL",value:v,onChange:e=>g(e.target.value),className:"bg-slate-800/50 border-slate-600 text-white focus:border-blue-400 focus:ring-blue-400/20"})]}),(0,t.jsx)(a.Button,{onClick:N,disabled:b||!v.trim(),className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold py-3 rounded-lg primary-glow transition-all duration-200",children:b?(0,t.jsxs)("div",{className:"flex items-center justify-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Scanning..."]}):"ðŸ” Scan Tickers"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(n.Label,{htmlFor:"csv-upload",className:"text-sm font-medium text-blue-300",children:"Or upload CSV file"}),(0,t.jsx)(i.Input,{id:"csv-upload",type:"file",accept:".csv",onChange:y,className:"mt-3 bg-slate-800/50 border-slate-600 text-white focus:border-blue-400 focus:ring-blue-400/20"})]})]})]})]}),(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsxs)(d.Card,{className:"trading-card",children:[(0,t.jsxs)(d.CardHeader,{className:"border-b border-blue-500/20",children:[(0,t.jsx)(d.CardTitle,{className:"text-xl font-semibold text-blue-400",children:"Scan Results"}),(0,t.jsxs)(d.CardDescription,{className:"text-neutral-text",children:[m.length," tickers found"]})]}),(0,t.jsxs)(d.CardContent,{className:"pt-6",children:[p&&(0,t.jsx)("div",{className:"bg-red-500/10 border border-red-500/30 text-red-400 p-4 rounded-lg mb-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"text-red-400 mr-2",children:"âš ï¸"}),p]})}),b?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400 mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-neutral-text text-lg",children:"Scanning tickers..."}),(0,t.jsx)("p",{className:"text-sm text-neutral-text mt-2",children:"This may take a few moments"})]}):0===m.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"ðŸ”"}),(0,t.jsx)("p",{className:"text-neutral-text text-lg mb-2",children:"No results found"}),(0,t.jsx)("p",{className:"text-sm text-neutral-text",children:"Try adjusting your filters or scanning more tickers"})]}):(0,t.jsx)("div",{className:"space-y-4",children:m.map((r,s)=>{var l,i;return(0,t.jsx)("div",{className:"glass-card p-6 rounded-xl border border-blue-500/20 hover:border-blue-400/40 transition-all duration-200",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"font-bold text-2xl text-white mb-2",children:r.ticker}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-neutral-text",children:"Price"}),(0,t.jsxs)("div",{className:"font-semibold text-white",children:["$",(null==(l=r.price)?void 0:l.toFixed(2))||"N/A"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-neutral-text",children:"IVR"}),(0,t.jsx)("div",{className:"font-semibold text-blue-400",children:r.ivr?(0,o.formatPercent)(r.ivr/100,1):"N/A"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-neutral-text",children:"RSI(14)"}),(0,t.jsx)("div",{className:"font-semibold text-white",children:(null==(i=r.rsi14)?void 0:i.toFixed(1))||"N/A"})]})]})]}),(0,t.jsx)("div",{className:"ml-6",children:(0,t.jsx)(a.Button,{onClick:()=>e.push("/recommend?ticker=".concat(r.ticker)),className:"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white font-semibold px-6 py-3 rounded-lg success-glow transition-all duration-200",children:"ðŸ“Š Analyze"})})]})},s)})})]})]})})]})})]})}function m(){return(0,t.jsx)(r.AuthWrapper,{children:(0,t.jsx)(u,{})})}}]);